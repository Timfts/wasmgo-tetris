replicate c++ version with functional approach


convert PieceType to int to improve memory

